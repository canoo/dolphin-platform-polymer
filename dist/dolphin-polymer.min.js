!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.dolphin=e()}}(function(){var e;return function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),t.exports=e("../modules/$").core.Map},{"../modules/$":14,"../modules/es6.map":24,"../modules/es6.object.to-string":25,"../modules/es6.string.iterator":26,"../modules/es7.map.to-json":27,"../modules/web.dom.iterable":28}],2:[function(e,t,n){function r(e,t,n){if(!e)throw TypeError(n?t+n:t)}var o=e("./$");r.def=o.assertDefined,r.fn=function(e){if(!o.isFunction(e))throw TypeError(e+" is not a function!");return e},r.obj=function(e){if(!o.isObject(e))throw TypeError(e+" is not an object!");return e},r.inst=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e},t.exports=r},{"./$":14}],3:[function(e,t,n){function r(e){return s.call(e).slice(8,-1)}var o=e("./$"),i=e("./$.wks")("toStringTag"),s={}.toString;r.classof=function(e){var t,n;return void 0==e?void 0===e?"Undefined":"Null":"string"==typeof(n=(t=Object(e))[i])?n:r(t)},r.set=function(e,t,n){e&&!o.has(e=n?e:e.prototype,i)&&o.hide(e,i,t)},t.exports=r},{"./$":14,"./$.wks":22}],4:[function(e,t,n){"use strict";function r(e,t){if(!p(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!f(e,v)){if(!y(e))return"F";if(!t)return"E";h(e,v,++E)}return"O"+e[v]}function o(e,t){var n,o=r(t);if("F"!==o)return e[m][o];for(n=e[$];n;n=n.n)if(n.k==t)return n}var i=e("./$"),s=e("./$.ctx"),a=e("./$.uid").safe,u=e("./$.assert"),c=e("./$.for-of"),l=e("./$.iter").step,f=i.has,d=i.set,p=i.isObject,h=i.hide,y=Object.isExtensible||p,v=a("id"),m=a("O1"),b=a("last"),$=a("first"),g=a("iter"),w=i.DESC?a("size"):"size",E=0;t.exports={getConstructor:function(t,n,r,a){var l=t(function(e,t){u.inst(e,l,n),d(e,m,i.create(null)),d(e,w,0),d(e,b,void 0),d(e,$,void 0),void 0!=t&&c(t,r,e[a],e)});return e("./$.mix")(l.prototype,{clear:function(){for(var e=this,t=e[m],n=e[$];n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e[$]=e[b]=void 0,e[w]=0},"delete":function(e){var t=this,n=o(t,e);if(n){var r=n.n,i=n.p;delete t[m][n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t[$]==n&&(t[$]=r),t[b]==n&&(t[b]=i),t[w]--}return!!n},forEach:function(e){for(var t,n=s(e,arguments[1],3);t=t?t.n:this[$];)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!o(this,e)}}),i.DESC&&i.setDesc(l.prototype,"size",{get:function(){return u.def(this[w])}}),l},def:function(e,t,n){var i,s,a=o(e,t);return a?a.v=n:(e[b]=a={i:s=r(t,!0),k:t,v:n,p:i=e[b],n:void 0,r:!1},e[$]||(e[$]=a),i&&(i.n=a),e[w]++,"F"!==s&&(e[m][s]=a)),e},getEntry:o,setIter:function(t,n,r){e("./$.iter-define")(t,n,function(e,t){d(this,g,{o:e,k:t})},function(){for(var e=this[g],t=e.k,n=e.l;n&&n.r;)n=n.p;return e.o&&(e.l=n=n?n.n:e.o[$])?"keys"==t?l(0,n.k):"values"==t?l(0,n.v):l(0,[n.k,n.v]):(e.o=void 0,l(1))},r?"entries":"values",!r,!0)}}},{"./$":14,"./$.assert":2,"./$.ctx":7,"./$.for-of":9,"./$.iter":13,"./$.iter-define":12,"./$.mix":15,"./$.uid":20}],5:[function(e,t,n){var r=e("./$.def"),o=e("./$.for-of");t.exports=function(e){r(r.P,e,{toJSON:function(){var e=[];return o(this,!1,e.push,e),e}})}},{"./$.def":8,"./$.for-of":9}],6:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.def"),i=e("./$.iter"),s=i.BUGGY,a=e("./$.for-of"),u=e("./$.assert").inst,c=e("./$.uid").safe("internal");t.exports=function(t,n,i,l,f,d){var p=r.g[t],h=p,y=f?"set":"add",v=h&&h.prototype,m={};return r.DESC&&r.isFunction(h)&&(d||!s&&v.forEach&&v.entries)?(h=n(function(e,n){u(e,h,t),e[c]=new p,void 0!=n&&a(n,f,e[y],e)}),r.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(e){var t="add"==e||"set"==e;e in v&&r.hide(h.prototype,e,function(n,r){var o=this[c][e](0===n?0:n,r);return t?this:o})}),"size"in v&&r.setDesc(h.prototype,"size",{get:function(){return this[c].size}})):(h=l.getConstructor(n,t,f,y),e("./$.mix")(h.prototype,i)),e("./$.cof").set(h,t),m[t]=h,o(o.G+o.W+o.F,m),e("./$.species")(h),d||l.setIter(h,t,f),h}},{"./$":14,"./$.assert":2,"./$.cof":3,"./$.def":8,"./$.for-of":9,"./$.iter":13,"./$.mix":15,"./$.species":18,"./$.uid":20}],7:[function(e,t,n){var r=e("./$.assert").fn;t.exports=function(e,t,n){if(r(e),~n&&void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{"./$.assert":2}],8:[function(e,t,n){function r(e,t){return function(){return e.apply(t,arguments)}}function o(e,t,n){var i,c,l,f,d=e&o.G,p=e&o.P,h=d?s:e&o.S?s[t]:(s[t]||{}).prototype,y=d?a:a[t]||(a[t]={});d&&(n=t);for(i in n)c=!(e&o.F)&&h&&i in h,c&&i in y||(l=c?h[i]:n[i],d&&!u(h[i])?f=n[i]:e&o.B&&c?f=r(l,s):e&o.W&&h[i]==l?!function(e){f=function(t){return this instanceof e?new e(t):e(t)},f.prototype=e.prototype}(l):f=p&&u(l)?r(Function.call,l):l,y[i]=f,p&&((y.prototype||(y.prototype={}))[i]=l))}var i=e("./$"),s=i.g,a=i.core,u=i.isFunction;o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,t.exports=o},{"./$":14}],9:[function(e,t,n){var r=e("./$.ctx"),o=e("./$.iter").get,i=e("./$.iter-call");t.exports=function(e,t,n,s){for(var a,u=o(e),c=r(n,s,t?2:1);!(a=u.next()).done;)if(i(u,c,a.value,t)===!1)return i.close(u)}},{"./$.ctx":7,"./$.iter":13,"./$.iter-call":11}],10:[function(e,t,n){t.exports=function(e){return e.FW=!1,e.path=e.core,e}},{}],11:[function(e,t,n){function r(e){var t=e["return"];void 0!==t&&i(t.call(e))}function o(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(s){throw r(e),s}}var i=e("./$.assert").obj;o.close=r,t.exports=o},{"./$.assert":2}],12:[function(e,t,n){var r=e("./$.def"),o=e("./$.redef"),i=e("./$"),s=e("./$.cof"),a=e("./$.iter"),u=e("./$.wks")("iterator"),c="@@iterator",l="keys",f="values",d=a.Iterators;t.exports=function(e,t,n,p,h,y,v){function m(e){function t(t){return new n(t,e)}switch(e){case l:return function(){return t(this)};case f:return function(){return t(this)}}return function(){return t(this)}}a.create(n,t,p);var b,$,g=t+" Iterator",w=e.prototype,E=w[u]||w[c]||h&&w[h],j=E||m(h);if(E){var A=i.getProto(j.call(new e));s.set(A,g,!0),i.FW&&i.has(w,c)&&a.set(A,i.that)}if((i.FW||v)&&a.set(w,j),d[t]=j,d[g]=i.that,h)if(b={keys:y?j:m(l),values:h==f?j:m(f),entries:h!=f?j:m("entries")},v)for($ in b)$ in w||o(w,$,b[$]);else r(r.P+r.F*a.BUGGY,t,b)}},{"./$":14,"./$.cof":3,"./$.def":8,"./$.iter":13,"./$.redef":16,"./$.wks":22}],13:[function(e,t,n){"use strict";function r(e,t){o.hide(e,c,t),l in[]&&o.hide(e,l,t)}var o=e("./$"),i=e("./$.cof"),s=i.classof,a=e("./$.assert"),u=a.obj,c=e("./$.wks")("iterator"),l="@@iterator",f=e("./$.shared")("iterators"),d={};r(d,o.that),t.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:f,step:function(e,t){return{value:t,done:!!e}},is:function(e){var t=Object(e),n=o.g.Symbol;return(n&&n.iterator||l)in t||c in t||o.has(f,s(t))},get:function(e){var t,n=o.g.Symbol;return void 0!=e&&(t=e[n&&n.iterator||l]||e[c]||f[s(e)]),a(o.isFunction(t),e," is not iterable!"),u(t.call(e))},set:r,create:function(e,t,n,r){e.prototype=o.create(r||d,{next:o.desc(1,n)}),i.set(e,t+" Iterator")}}},{"./$":14,"./$.assert":2,"./$.cof":3,"./$.shared":17,"./$.wks":22}],14:[function(e,t,n){"use strict";function r(e){return isNaN(e=+e)?0:(e>0?y:h)(e)}function o(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function i(e,t,n){return e[t]=n,e}function s(e){return b?function(t,n,r){return g.setDesc(t,n,o(e,r))}:i}function a(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function u(e){return"function"==typeof e}function c(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}var l="undefined"!=typeof self?self:Function("return this")(),f={},d=Object.defineProperty,p={}.hasOwnProperty,h=Math.ceil,y=Math.floor,v=Math.max,m=Math.min,b=!!function(){try{return 2==d({},"a",{get:function(){return 2}}).a}catch(e){}}(),$=s(1),g=t.exports=e("./$.fw")({g:l,core:f,html:l.document&&document.documentElement,isObject:a,isFunction:u,that:function(){return this},toInteger:r,toLength:function(e){return e>0?m(r(e),9007199254740991):0},toIndex:function(e,t){return e=r(e),0>e?v(e+t,0):m(e,t)},has:function(e,t){return p.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:b,desc:o,getDesc:Object.getOwnPropertyDescriptor,setDesc:d,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:c,ES5Object:Object,toObject:function(e){return g.ES5Object(c(e))},hide:$,def:s(0),set:l.Symbol?i:$,each:[].forEach});"undefined"!=typeof __e&&(__e=f),"undefined"!=typeof __g&&(__g=l)},{"./$.fw":10}],15:[function(e,t,n){var r=e("./$.redef");t.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e}},{"./$.redef":16}],16:[function(e,t,n){t.exports=e("./$").hide},{"./$":14}],17:[function(e,t,n){var r=e("./$"),o="__core-js_shared__",i=r.g[o]||(r.g[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./$":14}],18:[function(e,t,n){var r=e("./$"),o=e("./$.wks")("species");t.exports=function(e){!r.DESC||o in e||r.setDesc(e,o,{configurable:!0,get:r.that})}},{"./$":14,"./$.wks":22}],19:[function(e,t,n){var r=e("./$");t.exports=function(e){return function(t,n){var o,i,s=String(r.assertDefined(t)),a=r.toInteger(n),u=s.length;return 0>a||a>=u?e?"":void 0:(o=s.charCodeAt(a),55296>o||o>56319||a+1===u||(i=s.charCodeAt(a+1))<56320||i>57343?e?s.charAt(a):o:e?s.slice(a,a+2):(o-55296<<10)+(i-56320)+65536)}}},{"./$":14}],20:[function(e,t,n){function r(e){return"Symbol(".concat(void 0===e?"":e,")_",(++o+Math.random()).toString(36))}var o=0;r.safe=e("./$").g.Symbol||r,t.exports=r},{"./$":14}],21:[function(e,t,n){t.exports=function(){}},{}],22:[function(e,t,n){var r=e("./$").g,o=e("./$.shared")("wks");t.exports=function(t){return o[t]||(o[t]=r.Symbol&&r.Symbol[t]||e("./$.uid").safe("Symbol."+t))}},{"./$":14,"./$.shared":17,"./$.uid":20}],23:[function(e,t,n){var r=e("./$"),o=e("./$.unscope"),i=e("./$.uid").safe("iter"),s=e("./$.iter"),a=s.step,u=s.Iterators;e("./$.iter-define")(Array,"Array",function(e,t){r.set(this,i,{o:r.toObject(e),i:0,k:t})},function(){var e=this[i],t=e.o,n=e.k,r=e.i++;return!t||r>=t.length?(e.o=void 0,a(1)):"keys"==n?a(0,r):"values"==n?a(0,t[r]):a(0,[r,t[r]])},"values"),u.Arguments=u.Array,o("keys"),o("values"),o("entries")},{"./$":14,"./$.iter":13,"./$.iter-define":12,"./$.uid":20,"./$.unscope":21}],24:[function(e,t,n){"use strict";var r=e("./$.collection-strong");e("./$.collection")("Map",function(e){return function(){return e(this,arguments[0])}},{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},{"./$.collection":6,"./$.collection-strong":4}],25:[function(e,t,n){"use strict";var r=e("./$.cof"),o={};o[e("./$.wks")("toStringTag")]="z",e("./$").FW&&"z"!=r(o)&&e("./$.redef")(Object.prototype,"toString",function(){return"[object "+r.classof(this)+"]"},!0)},{"./$":14,"./$.cof":3,"./$.redef":16,"./$.wks":22}],26:[function(e,t,n){var r=e("./$").set,o=e("./$.string-at")(!0),i=e("./$.uid").safe("iter"),s=e("./$.iter"),a=s.step;e("./$.iter-define")(String,"String",function(e){r(this,i,{o:String(e),i:0})},function(){var e,t=this[i],n=t.o,r=t.i;return r>=n.length?a(1):(e=o(n,r),t.i+=e.length,a(0,e))})},{"./$":14,"./$.iter":13,"./$.iter-define":12,"./$.string-at":19,"./$.uid":20}],27:[function(e,t,n){e("./$.collection-to-json")("Map")},{"./$.collection-to-json":5}],28:[function(e,t,n){e("./es6.array.iterator");var r=e("./$"),o=e("./$.iter").Iterators,i=e("./$.wks")("iterator"),s=o.Array,a=r.g.NodeList,u=r.g.HTMLCollection,c=a&&a.prototype,l=u&&u.prototype;r.FW&&(!a||i in c||r.hide(c,i,s),!u||i in l||r.hide(l,i,s)),o.NodeList=o.HTMLCollection=s},{"./$":14,"./$.iter":13,"./$.wks":22,"./es6.array.iterator":23}],29:[function(t,n,r){(function(o){!function(t){if("object"==typeof r&&"undefined"!=typeof n)n.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof o?o:"undefined"!=typeof self?self:this,i.dolphin=t()}}(function(){return function e(n,r,o){function i(a,u){if(!r[a]){if(!n[a]){var c="function"==typeof t&&t;if(!u&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[a]={exports:{}};n[a][0].call(f.exports,function(e){var t=n[a][1][e];return i(t?t:e)},f,f.exports,e,n,r,o)}return r[a].exports}for(var s="function"==typeof t&&t,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,n){"use strict";function r(e,t){var n=t.presentationModelType;switch(n){case f:e.classRepository.registerClass(t);break;case d:e.classRepository.addListEntry(t),e.dolphin.deletePresentationModel(t);break;case p:e.classRepository.delListEntry(t),e.dolphin.deletePresentationModel(t);break;case h:e.classRepository.setListEntry(t),e.dolphin.deletePresentationModel(t);break;default:var r=e.classRepository.load(t),o=e.addedHandlers.get(n);u(o)&&o.forEach(function(e){e(r)}),e.allAddedHandlers.forEach(function(e){e(r)})}}function o(e,t){var n=t.presentationModelType;switch(n){case f:e.classRepository.unregisterClass(t);break;case d:case p:case h:break;default:var r=e.classRepository.unload(t);if(u(r)){var o=e.removedHandlers.get(n);u(o)&&o.forEach(function(e){e(r)}),e.allRemovedHandlers.forEach(function(e){e(r)})}}}function i(e,t,n){var i=this,a=50;if(this.dolphin=opendolphin.dolphin(e,!0,4),u(t)&&(t.serverPush&&this.dolphin.startPushListening("ServerPushController:longPoll","ServerPushController:release"),t.observeInterval&&(a=t.observeInterval)),this.classRepository=n?new l(this.dolphin):new c,this.addedHandlers=new s,this.removedHandlers=new s,this.updatedHandlers=new s,this.arrayUpdatedHandlers=new s,this.allAddedHandlers=[],this.allRemovedHandlers=[],this.allUpdatedHandlers=[],this.allArrayUpdatedHandlers=[],n)this.classRepository.onBeanUpdate(function(e,t,n,r,o){var s=i.updatedHandlers.get(e);u(s)&&s.forEach(function(e){e(t,n,r,o)}),i.allUpdatedHandlers.forEach(function(e){e(t,n,r,o)})}),this.classRepository.onArrayUpdate(function(e,t,n,r,o,s){var a=i.arrayUpdatedHandlers.get(e);u(a)&&a.forEach(function(e){e(t,n,r,o,s)}),i.allArrayUpdatedHandlers.forEach(function(e){e(t,n,r,o,s)})});else{var f=!1;!function d(){setTimeout(function(){Platform.performMicrotaskCheckpoint(),f||d()},a)}(),this.shutdown=function(){f=!0}}this.dolphin.getClientModelStore().onModelStoreChange(function(e){var t=e.clientPresentationModel,n=t.findAttributeByPropertyName(y);u(n)&&n.value===m&&(e.eventType===opendolphin.Type.ADDED?r(i,t):e.eventType===opendolphin.Type.REMOVED&&o(i,t))})}e("./polyfills.js");var s=e("../bower_components/core.js/library/fn/map"),a=e("../bower_components/core.js/library/fn/promise"),u=e("./utils.js").exists,c=e("./classrepo.js").ClassRepository,l=e("./newclassrepo.js").ClassRepository;n.connect=function(e,t){return new i(e,t)},n.connect2=function(e,t){return new i(e,t,!0)};var f="@@@ DOLPHIN_BEAN @@@",d="@@@ LIST_ADD @@@",p="@@@ LIST_DEL @@@",h="@@@ LIST_SET @@@",y="@@@ SOURCE_SYSTEM @@@",v="client",m="server";i.prototype.notifyBeanChange=function(e,t,n){return this.classRepository.notifyBeanChange(e,t,n)},i.prototype.notifyArrayChange=function(e,t,n,r,o){this.classRepository.notifyArrayChange(e,t,n,r,o)},i.prototype.isManaged=function(e){throw new Error("Not implemented yet")},i.prototype.create=function(e){throw new Error("Not implemented yet")},i.prototype.add=function(e,t){throw new Error("Not implemented yet")},i.prototype.addAll=function(e,t){throw new Error("Not implemented yet")},i.prototype.remove=function(e){throw new Error("Not implemented yet")},i.prototype.removeAll=function(e){throw new Error("Not implemented yet")},i.prototype.removeIf=function(e){throw new Error("Not implemented yet")},i.prototype.onAdded=function(e,t){var n=this;if(u(t)){var r=n.addedHandlers.get(e);return u(r)||(r=[]),n.addedHandlers.set(e,r.concat(t)),{unsubscribe:function(){var r=n.addedHandlers.get(e);u(r)&&n.addedHandlers.set(e,r.filter(function(e){return e!==t}))}}}return t=e,n.allAddedHandlers=n.allAddedHandlers.concat(t),{unsubscribe:function(){n.allAddedHandlers=n.allAddedHandlers.filter(function(e){return e!==t})}}},i.prototype.onRemoved=function(e,t){var n=this;if(u(t)){var r=n.removedHandlers.get(e);return u(r)||(r=[]),n.removedHandlers.set(e,r.concat(t)),{unsubscribe:function(){var r=n.removedHandlers.get(e);u(r)&&n.removedHandlers.set(e,r.filter(function(e){return e!==t}))}}}return t=e,n.allRemovedHandlers=n.allRemovedHandlers.concat(t),{unsubscribe:function(){n.allRemovedHandlers=n.allRemovedHandlers.filter(function(e){return e!==t})}}},i.prototype.onBeanUpdate=function(e,t){var n=this;if(u(t)){var r=n.updatedHandlers.get(e);return u(r)||(r=[]),n.updatedHandlers.set(e,r.concat(t)),{unsubscribe:function(){var r=n.updatedHandlers.get(e);u(r)&&n.updatedHandlers.set(e,r.filter(function(e){return e!==t}))}}}return t=e,n.allUpdatedHandlers=n.allUpdatedHandlers.concat(t),{unsubscribe:function(){n.allUpdatedHandlers=n.allUpdatedHandlers.filter(function(e){return e!==t})}}},i.prototype.onArrayUpdate=function(e,t){var n=this;if(u(t)){var r=n.arrayUpdatedHandlers.get(e);return u(r)||(r=[]),n.arrayUpdatedHandlers.set(e,r.concat(t)),{unsubscribe:function(){var r=n.arrayUpdatedHandlers.get(e);u(r)&&n.arrayUpdatedHandlers.set(e,r.filter(function(e){return e!==t}))}}}return t=e,n.allArrayUpdatedHandlers=n.allArrayUpdatedHandlers.concat(t),{unsubscribe:function(){n.allArrayUpdatedHandlers=n.allArrayUpdatedHandlers.filter(function(e){return e!==t})}}},i.prototype.send=function(e,t){if(u(t)){var n=[this.dolphin.attribute(y,null,v)];for(var r in t)if(t.hasOwnProperty(r)){var o=this.classRepository.mapParamToDolphin(t[r]);n.push(this.dolphin.attribute(r,null,o.value,"VALUE")),n.push(this.dolphin.attribute(r,null,o.type,"VALUE_TYPE"))}this.dolphin.presentationModel.apply(this.dolphin,[null,"@@@ DOLPHIN_PARAMETER @@@"].concat(n))}var i=this.dolphin;return new a(function(t){i.send(e,{onFinished:function(){t()}})})}},{"../bower_components/core.js/library/fn/map":2,"../bower_components/core.js/library/fn/promise":3,"./classrepo.js":26,"./newclassrepo.js":27,"./polyfills.js":28,"./utils.js":29}],2:[function(e,t,n){e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),t.exports=e("../modules/$").core.Map},{"../modules/$":14,"../modules/es6.map":22,"../modules/es6.string.iterator":24,"../modules/web.dom.iterable":25}],3:[function(e,t,n){e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/$").core.Promise},{"../modules/$":14,"../modules/es6.promise":23,"../modules/es6.string.iterator":24,"../modules/web.dom.iterable":25}],4:[function(e,t,n){function r(e,t,n){if(!e)throw TypeError(n?t+n:t)}var o=e("./$");r.def=o.assertDefined,r.fn=function(e){if(!o.isFunction(e))throw TypeError(e+" is not a function!");return e},r.obj=function(e){if(!o.isObject(e))throw TypeError(e+" is not an object!");return e},r.inst=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e},t.exports=r},{"./$":14}],5:[function(e,t,n){function r(e){return s.call(e).slice(8,-1)}var o=e("./$"),i=e("./$.wks")("toStringTag"),s={}.toString;r.classof=function(e){var t,n;return void 0==e?void 0===e?"Undefined":"Null":"string"==typeof(n=(t=Object(e))[i])?n:r(t)},r.set=function(e,t,n){e&&!o.has(e=n?e:e.prototype,i)&&o.hide(e,i,t)},t.exports=r},{"./$":14,"./$.wks":20}],6:[function(e,t,n){"use strict";function r(e,t){if(!d(e))return("string"==typeof e?"S":"P")+e;if(y(e))return"F";if(!l(e,v)){if(!t)return"E";p(e,v,++E)}return"O"+e[v]}function o(e,t){var n,o=r(t);if("F"!=o)return e[m][o];for(n=e[$];n;n=n.n)if(n.k==t)return n}var i=e("./$"),s=e("./$.ctx"),a=e("./$.uid").safe,u=e("./$.assert"),c=e("./$.iter"),l=i.has,f=i.set,d=i.isObject,p=i.hide,h=c.step,y=Object.isFrozen||i.core.Object.isFrozen,v=a("id"),m=a("O1"),b=a("last"),$=a("first"),g=a("iter"),w=i.DESC?a("size"):"size",E=0;t.exports={getConstructor:function(e,t,n){function r(o){var s=u.inst(this,r,e);f(s,m,i.create(null)),f(s,w,0),f(s,b,void 0),f(s,$,void 0),void 0!=o&&c.forOf(o,t,s[n],s)}return i.mix(r.prototype,{clear:function(){for(var e=this,t=e[m],n=e[$];n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e[$]=e[b]=void 0,e[w]=0},"delete":function(e){var t=this,n=o(t,e);if(n){var r=n.n,i=n.p;delete t[m][n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t[$]==n&&(t[$]=r),t[b]==n&&(t[b]=i),t[w]--}return!!n},forEach:function(e){for(var t,n=s(e,arguments[1],3);t=t?t.n:this[$];)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!o(this,e)}}),i.DESC&&i.setDesc(r.prototype,"size",{get:function(){return u.def(this[w])}}),r},def:function(e,t,n){var i,s,a=o(e,t);return a?a.v=n:(e[b]=a={i:s=r(t,!0),k:t,v:n,p:i=e[b],n:void 0,r:!1},e[$]||(e[$]=a),i&&(i.n=a),e[w]++,"F"!=s&&(e[m][s]=a)),e},getEntry:o,getIterConstructor:function(){return function(e,t){f(this,g,{o:e,k:t})}},next:function(){for(var e=this[g],t=e.k,n=e.l;n&&n.r;)n=n.p;return e.o&&(e.l=n=n?n.n:e.o[$])?"key"==t?h(0,n.k):"value"==t?h(0,n.v):h(0,[n.k,n.v]):(e.o=void 0,h(1))}}},{"./$":14,"./$.assert":4,"./$.ctx":8,"./$.iter":13,"./$.uid":18}],7:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.def"),i=e("./$.iter"),s=e("./$.assert").inst;t.exports=function(t,n,a,u,c){function l(e,t){var n=h[e];r.FW&&(h[e]=function(e,r){var o=n.call(this,0===e?0:e,r);return t?this:o})}var f=r.g[t],d=f,p=u?"set":"add",h=d&&d.prototype,y={};if(r.isFunction(d)&&(c||!i.BUGGY&&h.forEach&&h.entries)){var v,m=new d,b=m[p](c?{}:-0,1);e("./$.iter-detect")(function(e){new d(e)})||(d=function(e){s(this,d,t);var n=new f;return void 0!=e&&i.forOf(e,u,n[p],n),n},d.prototype=h,r.FW&&(h.constructor=d)),c||m.forEach(function(e,t){v=1/t===-(1/0)}),v&&(l("delete"),l("has"),u&&l("get")),(v||b!==m)&&l(p,!0)}else d=a.getConstructor(t,u,p),r.mix(d.prototype,n);return e("./$.cof").set(d,t),e("./$.species")(d),y[t]=d,o(o.G+o.W+o.F*(d!=f),y),c||i.std(d,t,a.getIterConstructor(),a.next,u?"key+value":"value",!u,!0),d}},{"./$":14,"./$.assert":4,"./$.cof":5,"./$.def":9,"./$.iter":13,"./$.iter-detect":12,"./$.species":15}],8:[function(e,t,n){var r=e("./$.assert").fn;t.exports=function(e,t,n){if(r(e),~n&&void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{"./$.assert":4}],9:[function(e,t,n){function r(e,t){return function(){return e.apply(t,arguments)}}function o(e,t,n){var c,l,f,d,p=e&o.G,h=p?s:e&o.S?s[t]:(s[t]||{}).prototype,y=p?a:a[t]||(a[t]={});p&&(n=t);for(c in n)l=!(e&o.F)&&h&&c in h,l&&c in y||(f=l?h[c]:n[c],p&&!u(h[c])?d=n[c]:e&o.B&&l?d=r(f,s):e&o.W&&h[c]==f?!function(e){d=function(t){return this instanceof e?new e(t):e(t)},d.prototype=e.prototype}(f):d=e&o.P&&u(f)?r(Function.call,f):f,i.hide(y,c,d))}var i=e("./$"),s=i.g,a=i.core,u=i.isFunction;o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,t.exports=o},{"./$":14}],10:[function(e,t,n){t.exports=function(e){return e.FW=!1,e.path=e.core,e}},{}],11:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);case 5:return r?e(t[0],t[1],t[2],t[3],t[4]):e.call(n,t[0],t[1],t[2],t[3],t[4])}return e.apply(n,t)}},{}],12:[function(e,t,n){var r=e("./$.wks")("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(s){}t.exports=function(e){if(!o)return!1;var t=!1;try{var n=[7],i=n[r]();i.next=function(){t=!0},n[r]=function(){return i},e(n)}catch(s){}return t}},{"./$.wks":20}],13:[function(e,t,n){"use strict";function r(e,t){u.hide(e,p,t),h in[]&&u.hide(e,h,t)}function o(e,t,n,o){var i=e.prototype,s=i[p]||i[h]||o&&i[o]||n;if(u.FW&&r(i,s),s!==n){var a=u.getProto(s.call(new e));l.set(a,t+" Iterator",!0),u.FW&&u.has(i,h)&&r(a,u.that)}return y[t]=s,y[t+" Iterator"]=u.that,s}function i(e){var t=u.g.Symbol,n=e[t&&t.iterator||h],r=n||e[p]||y[l.classof(e)];return d(r.call(e))}function s(e){var t=e["return"];void 0!==t&&d(t.call(e))}function a(e,t,n,r){try{return r?t(d(n)[0],n[1]):t(n)}catch(o){throw s(e),o}}var u=e("./$"),c=e("./$.ctx"),l=e("./$.cof"),f=e("./$.def"),d=e("./$.assert").obj,p=e("./$.wks")("iterator"),h="@@iterator",y={},v={},m="keys"in[]&&!("next"in[].keys());r(v,u.that);var b=t.exports={BUGGY:m,Iterators:y,prototype:v,step:function(e,t){return{value:t,done:!!e}},stepCall:a,close:s,is:function(e){var t=Object(e),n=u.g.Symbol,r=n&&n.iterator||h;return r in t||p in t||u.has(y,l.classof(t))},get:i,set:r,create:function(e,t,n,r){e.prototype=u.create(r||b.prototype,{next:u.desc(1,n)}),l.set(e,t+" Iterator")},define:o,std:function(e,t,n,r,i,s,a){function c(e){return function(){return new n(this,e)}}b.create(n,t,r);var l,d,p=c("key+value"),h=c("value"),y=e.prototype;if("value"==i?h=o(e,t,h,"values"):p=o(e,t,p,"entries"),i&&(l={entries:p,keys:s?h:c("key"),values:h},f(f.P+f.F*m,t,l),a))for(d in l)d in y||u.hide(y,d,l[d])},forOf:function(e,t,n,r){for(var o,u=i(e),l=c(n,r,t?2:1);!(o=u.next()).done;)if(a(u,l,o.value,t)===!1)return s(u)}}},{"./$":14,"./$.assert":4,"./$.cof":5,"./$.ctx":8,"./$.def":9,"./$.wks":20}],14:[function(e,t,n){"use strict";function r(e){return isNaN(e=+e)?0:(e>0?y:h)(e)}function o(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function i(e,t,n){return e[t]=n,e}function s(e){return b?function(t,n,r){return g.setDesc(t,n,o(e,r))}:i}function a(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function u(e){return"function"==typeof e}function c(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}var l="undefined"!=typeof self?self:Function("return this")(),f={},d=Object.defineProperty,p={}.hasOwnProperty,h=Math.ceil,y=Math.floor,v=Math.max,m=Math.min,b=!!function(){try{return 2==d({},"a",{get:function(){return 2}}).a}catch(e){}}(),$=s(1),g=t.exports=e("./$.fw")({g:l,core:f,html:l.document&&document.documentElement,isObject:a,isFunction:u,it:function(e){return e},that:function(){return this},toInteger:r,toLength:function(e){return e>0?m(r(e),9007199254740991):0},toIndex:function(e,t){return e=r(e),0>e?v(e+t,0):m(e,t)},has:function(e,t){return p.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:b,desc:o,getDesc:Object.getOwnPropertyDescriptor,setDesc:d,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:c,ES5Object:Object,toObject:function(e){return g.ES5Object(c(e))},hide:$,def:s(0),set:l.Symbol?i:$,mix:function(e,t){for(var n in t)$(e,n,t[n]);return e},each:[].forEach});"undefined"!=typeof __e&&(__e=f),"undefined"!=typeof __g&&(__g=l)},{"./$.fw":10}],15:[function(e,t,n){var r=e("./$");t.exports=function(t){r.DESC&&r.FW&&r.setDesc(t,e("./$.wks")("species"),{configurable:!0,get:r.that})}},{"./$":14,"./$.wks":20}],16:[function(e,t,n){"use strict";var r=e("./$");t.exports=function(e){return function(t){var n,o,i=String(r.assertDefined(this)),s=r.toInteger(t),a=i.length;return 0>s||s>=a?e?"":void 0:(n=i.charCodeAt(s),55296>n||n>56319||s+1===a||(o=i.charCodeAt(s+1))<56320||o>57343?e?i.charAt(s):n:e?i.slice(s,s+2):(n-55296<<10)+(o-56320)+65536)}}},{"./$":14}],17:[function(e,t,n){"use strict";function r(){var e=+this;if(u.has(j,e)){var t=j[e];delete j[e],t()}}function o(e){r.call(e.data)}var i,s,a,u=e("./$"),c=e("./$.ctx"),l=e("./$.cof"),f=e("./$.invoke"),d=u.g,p=u.isFunction,h=u.html,y=d.document,v=d.process,m=d.setImmediate,b=d.clearImmediate,$=d.postMessage,g=d.addEventListener,w=d.MessageChannel,E=0,j={},A="onreadystatechange";p(m)&&p(b)||(m=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return j[++E]=function(){f(p(e)?e:Function(e),t)},i(E),E},b=function(e){delete j[e]},"process"==l(v)?i=function(e){v.nextTick(c(r,e,1))}:g&&p($)&&!d.importScripts?(i=function(e){$(e,"*")},g("message",o,!1)):p(w)?(s=new w,a=s.port2,s.port1.onmessage=o,i=c(a.postMessage,a,1)):i=y&&A in y.createElement("script")?function(e){h.appendChild(y.createElement("script"))[A]=function(){h.removeChild(this),r.call(e)}}:function(e){setTimeout(c(r,e,1),0)}),t.exports={set:m,clear:b}},{"./$":14,"./$.cof":5,"./$.ctx":8,"./$.invoke":11}],18:[function(e,t,n){function r(e){return"Symbol("+e+")_"+(++o+Math.random()).toString(36)}var o=0;r.safe=e("./$").g.Symbol||r,t.exports=r},{"./$":14}],19:[function(e,t,n){var r=e("./$"),o=e("./$.wks")("unscopables");!r.FW||o in[]||r.hide(Array.prototype,o,{}),t.exports=function(e){r.FW&&([][o][e]=!0)}},{"./$":14,"./$.wks":20}],20:[function(e,t,n){var r=e("./$").g,o={};t.exports=function(t){return o[t]||(o[t]=r.Symbol&&r.Symbol[t]||e("./$.uid").safe("Symbol."+t))}},{"./$":14,"./$.uid":18}],21:[function(e,t,n){var r=e("./$"),o=e("./$.unscope"),i=e("./$.uid").safe("iter"),s=e("./$.iter"),a=s.step,u=s.Iterators;s.std(Array,"Array",function(e,t){r.set(this,i,{o:r.toObject(e),i:0,k:t})},function(){var e=this[i],t=e.o,n=e.k,r=e.i++;return!t||r>=t.length?(e.o=void 0,a(1)):"key"==n?a(0,r):"value"==n?a(0,t[r]):a(0,[r,t[r]])},"value"),u.Arguments=u.Array,o("keys"),o("values"),o("entries")},{"./$":14,"./$.iter":13,"./$.uid":18,"./$.unscope":19}],22:[function(e,t,n){"use strict";var r=e("./$.collection-strong");e("./$.collection")("Map",{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},{"./$.collection":7,"./$.collection-strong":6}],23:[function(e,t,n){"use strict";function r(e){var t=k(e)[v];return void 0!=t?t:e}function o(e){var t;return O(e)&&(t=e.then),x(t)?t:!1}function i(e){var t,n=e[m],r=n.c,o=0;if(n.h)return!1;for(;r.length>o;)if(t=r[o++],t.fail||!i(t.P))return!1;return!0}function s(e,t){var n=e.c;(t||n.length)&&E(function(){var r=e.p,s=e.v,a=1==e.s,u=0;if(t&&i(r))setTimeout(function(){i(r)&&("process"==d(w)?w.emit("unhandledRejection",s,r):g.console&&x(console.error)&&console.error("Unhandled promise rejection",s))},1e3);else for(;n.length>u;)!function(t){var n,r,i=a?t.ok:t.fail;try{i?(a||(e.h=!0),n=i===!0?s:i(s),n===t.P?t.rej(TypeError($+"-chain cycle")):(r=o(n))?r.call(n,t.res,t.rej):t.res(n)):t.rej(s)}catch(u){t.rej(u)}}(n[u++]);n.length=0})}function a(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,s(t,!0))}function u(e){var t,n,r=this;if(!r.d){r.d=!0,r=r.r||r;try{(t=o(e))?(n={r:r,d:!1},t.call(e,f(u,n,1),f(a,n,1))):(r.v=e,r.s=1,s(r))}catch(i){a.call(n||{r:r,d:!1},i)}}}var c,l=e("./$"),f=e("./$.ctx"),d=e("./$.cof"),p=e("./$.def"),h=e("./$.assert"),y=e("./$.iter"),v=e("./$.wks")("species"),m=e("./$.uid").safe("record"),b=y.forOf,$="Promise",g=l.g,w=g.process,E=w&&w.nextTick||e("./$.task").set,j=g[$],A=j,x=l.isFunction,O=l.isObject,P=h.fn,k=h.obj;x(j)&&x(j.resolve)&&j.resolve(c=new j(function(){}))==c||(j=function(e){P(e);var t={p:h.inst(this,j,$),c:[],s:0,d:!1,v:void 0,h:!1};l.hide(this,m,t);try{e(f(u,t,1),f(a,t,1))}catch(n){a.call(t,n)}},l.mix(j.prototype,{then:function(e,t){var n=k(k(this).constructor)[v],r={ok:x(e)?e:!0,fail:x(t)?t:!1},o=r.P=new(void 0!=n?n:j)(function(e,t){r.res=P(e),r.rej=P(t)}),i=this[m];return i.c.push(r),i.s&&s(i),o},"catch":function(e){return this.then(void 0,e)}})),p(p.G+p.W+p.F*(j!=A),{
Promise:j}),d.set(j,$),e("./$.species")(j),p(p.S,$,{reject:function(e){return new(r(this))(function(t,n){n(e)})},resolve:function(e){return O(e)&&m in e&&l.getProto(e)===this.prototype?e:new(r(this))(function(t){t(e)})}}),p(p.S+p.F*!e("./$.iter-detect")(function(e){j.all(e)["catch"](function(){})}),$,{all:function(e){var t=r(this),n=[];return new t(function(r,o){b(e,!1,n.push,n);var i=n.length,s=Array(i);i?l.each.call(n,function(e,n){t.resolve(e).then(function(e){s[n]=e,--i||r(s)},o)}):r(s)})},race:function(e){var t=r(this);return new t(function(n,r){b(e,!1,function(e){t.resolve(e).then(n,r)})})}})},{"./$":14,"./$.assert":4,"./$.cof":5,"./$.ctx":8,"./$.def":9,"./$.iter":13,"./$.iter-detect":12,"./$.species":15,"./$.task":17,"./$.uid":18,"./$.wks":20}],24:[function(e,t,n){var r=e("./$").set,o=e("./$.string-at")(!0),i=e("./$.uid").safe("iter"),s=e("./$.iter"),a=s.step;s.std(String,"String",function(e){r(this,i,{o:String(e),i:0})},function(){var e,t=this[i],n=t.o,r=t.i;return r>=n.length?a(1):(e=o.call(n,r),t.i+=e.length,a(0,e))})},{"./$":14,"./$.iter":13,"./$.string-at":16,"./$.uid":18}],25:[function(e,t,n){e("./es6.array.iterator");var r=e("./$"),o=e("./$.iter").Iterators,i=e("./$.wks")("iterator"),s=o.Array,a=r.g.NodeList;!r.FW||!a||i in a.prototype||r.hide(a.prototype,i,s),o.NodeList=s},{"./$":14,"./$.iter":13,"./$.wks":20,"./es6.array.iterator":21}],26:[function(e,t,n){"use strict";function r(e,t,n){return t===d?e.beanFromDolphin.get(n):n}function o(e,t,n){return t===d?e.beanToDolphin.get(n):n}function i(e,t,n,r,o){var i=e[t];c(i)?Array.isArray(i)||(e[t]=i=[i]):e[t]=i=[],"undefined"==typeof o?i.splice(n,r):i.splice(n,r,o)}function s(){this.classes=new u,this.beanFromDolphin=new u,this.beanToDolphin=new u,this.classInfos=new u}e("./polyfills.js");var a=window.ObjectObserver,u=e("../bower_components/core.js/library/fn/map"),c=e("./utils.js").exists,l=0,f=1,d=2;s.prototype.registerClass=function(e){if(!this.classes.has(e.id)){var t={};e.attributes.forEach(function(e){t[e.propertyName]=l,e.onValueChange(function(n){t[e.propertyName]=n.newValue})}),this.classes.set(e.id,t)}},s.prototype.unregisterClass=function(e){this.classes["delete"](e.id)},s.prototype.load=function(e){var t=this,n=this.classes.get(e.presentationModelType),i={};e.attributes.filter(function(e){return e.tag===opendolphin.Tag.value()}).forEach(function(e){i[e.propertyName]=null,e.onValueChange(function(o){o.oldValue!==o.newValue&&(i[e.propertyName]=r(t,n[e.propertyName],o.newValue))})});var s=new a(i);return s.open(function(r,i,s){Object.keys(r).forEach(function(i){var s=e.findAttributeByPropertyName(i);if(c(s)){var a=o(t,n[i],r[i]);s.setValue(a)}}),Object.keys(i).forEach(function(t){var n=e.findAttributeByPropertyName(t);c(n)&&n.setValue(null)}),Object.keys(s).forEach(function(r){var i=e.findAttributeByPropertyName(r);if(c(i)){var a=o(t,n[r],s[r]);i.setValue(a)}})}),this.beanFromDolphin.set(e.id,i),this.beanToDolphin.set(i,e.id),this.classInfos.set(e.id,n),i},s.prototype.unload=function(e){var t=this.beanFromDolphin.get(e.id);return this.beanFromDolphin["delete"](e.id),this.beanToDolphin["delete"](t),this.classInfos["delete"](e.id),t},s.prototype.addListEntry=function(e){var t=e.findAttributeByPropertyName("source"),n=e.findAttributeByPropertyName("attribute"),o=e.findAttributeByPropertyName("pos"),s=e.findAttributeByPropertyName("element");if(!(c(t)&&c(n)&&c(o)&&c(s)))throw new Error("Invalid list modification update received");var a=this.classInfos.get(t.value),u=this.beanFromDolphin.get(t.value);if(!c(u)||!c(a))throw new Error("Invalid list modification update received. Source bean unknown.");var l=r(this,a[n.value],s.value);i(u,n.value,o.value,0,l)},s.prototype.delListEntry=function(e){var t=e.findAttributeByPropertyName("source"),n=e.findAttributeByPropertyName("attribute"),r=e.findAttributeByPropertyName("from"),o=e.findAttributeByPropertyName("to");if(!(c(t)&&c(n)&&c(r)&&c(o)))throw new Error("Invalid list modification update received");var s=this.beanFromDolphin.get(t.value);if(!c(s))throw new Error("Invalid list modification update received. Source bean unknown.");i(s,n.value,r.value,o.value-r.value)},s.prototype.setListEntry=function(e){var t=e.findAttributeByPropertyName("source"),n=e.findAttributeByPropertyName("attribute"),o=e.findAttributeByPropertyName("pos"),s=e.findAttributeByPropertyName("element");if(!(c(t)&&c(n)&&c(o)&&c(s)))throw new Error("Invalid list modification update received");var a=this.classInfos.get(t.value),u=this.beanFromDolphin.get(t.value);if(!c(u)||!c(a))throw new Error("Invalid list modification update received. Source bean unknown.");var l=r(this,a[n.value],s.value);i(u,n.value,o.value,1,l)},s.prototype.mapParamToDolphin=function(e){if(!c(e))return{value:e,type:l};var t=typeof e;if("object"===t){var n=this.beanToDolphin.get(e);if(c(n))return{value:n,type:d};throw new TypeError("Only managed Dolphin Beans can be used")}if("string"===t||"number"===t||"boolean"===t)return{value:e,type:f};throw new TypeError("Only managed Dolphin Beans and primitive types can be used")},n.ClassRepository=s,n.UNKNOWN=l,n.BASIC_TYPE=f,n.DOLPHIN_BEAN=d},{"../bower_components/core.js/library/fn/map":2,"./polyfills.js":28,"./utils.js":29}],27:[function(e,t,n){"use strict";function r(e,t,n){return null===n?null:t===p?e.beanFromDolphin.get(n):n}function o(e,t){return"object"==typeof t?e.beanToDolphin.get(t):t}function i(e,t,n,r,o){var i=[e.attribute("@@@ SOURCE_SYSTEM @@@",null,"client"),e.attribute("source",null,t),e.attribute("attribute",null,n),e.attribute("pos",null,r),e.attribute("element",null,o)];e.presentationModel.apply(e,[null,"@@@ LIST_ADD @@@"].concat(i))}function s(e,t,n,r,o){var i=[e.attribute("@@@ SOURCE_SYSTEM @@@",null,"client"),e.attribute("source",null,t),e.attribute("attribute",null,n),e.attribute("from",null,r),e.attribute("to",null,o)];e.presentationModel.apply(e,[null,"@@@ LIST_DEL @@@"].concat(i))}function a(e,t,n,r){var o=n[r];l(o)||e.propertyUpdateHandlers.forEach(function(e){e(t,n,r,[],void 0)})}function u(e){this.dolphin=e,this.classes=new c,this.beanFromDolphin=new c,this.beanToDolphin=new c,this.classInfos=new c,this.propertyUpdateHandlers=[],this.arrayUpdateHandlers=[]}e("./polyfills.js");var c=(window.ObjectObserver,e("../bower_components/core.js/library/fn/map")),l=e("./utils.js").exists,f=0,d=1,p=2;u.prototype.notifyBeanChange=function(e,t,n){var i=this.beanToDolphin.get(e),s=this.dolphin.findPresentationModelById(i);l(s)||console.log("notifyBeanChange (model==null)",e,i);var a=this.classes.get(s.presentationModelType),u=a[t],c=s.findAttributeByPropertyName(t);l(c)||console.log("notifyBeanChange (attribute==null)",e,t,s);var f=c.getValue();return c.setValue(o(this,n)),r(this,u,f)},u.prototype.notifyArrayChange=function(e,t,n,r,a){var u=this.beanToDolphin.get(e),c=e[t];Array.isArray(a)&&a.length>0&&s(this.dolphin,u,t,n,n+a.length);for(var l=n;n+r>l;l++)i(this.dolphin,u,t,l,o(this,c[l]))},u.prototype.onBeanUpdate=function(e){this.propertyUpdateHandlers.push(e)},u.prototype.onArrayUpdate=function(e){this.arrayUpdateHandlers.push(e)},u.prototype.registerClass=function(e){if(!this.classes.has(e.id)){var t={};e.attributes.filter(function(e){return e.propertyName.search(/^@@@ /)<0}).forEach(function(e){t[e.propertyName]=f,e.onValueChange(function(n){t[e.propertyName]=n.newValue})}),this.classes.set(e.id,t)}},u.prototype.unregisterClass=function(e){this.classes["delete"](e.id)},u.prototype.load=function(e){var t=this,n=this.classes.get(e.presentationModelType),o={};return e.attributes.filter(function(e){return e.tag===opendolphin.Tag.value()&&e.propertyName.search(/^@@@ /)<0}).forEach(function(i){o[i.propertyName]=null,i.onValueChange(function(s){if(s.oldValue!==s.newValue){var a=r(t,n[i.propertyName],s.oldValue),u=r(t,n[i.propertyName],s.newValue);t.propertyUpdateHandlers.forEach(function(t){t(e.presentationModelType,o,i.propertyName,u,a)})}})}),this.beanFromDolphin.set(e.id,o),this.beanToDolphin.set(o,e.id),this.classInfos.set(e.id,n),o},u.prototype.unload=function(e){var t=this.beanFromDolphin.get(e.id);return this.beanFromDolphin["delete"](e.id),this.beanToDolphin["delete"](t),this.classInfos["delete"](e.id),t},u.prototype.addListEntry=function(e){var t=e.findAttributeByPropertyName("source"),n=e.findAttributeByPropertyName("attribute"),o=e.findAttributeByPropertyName("pos"),i=e.findAttributeByPropertyName("element");if(!(l(t)&&l(n)&&l(o)&&l(i)))throw new Error("Invalid list modification update received");var s=this.classInfos.get(t.value),u=this.beanFromDolphin.get(t.value);if(!l(u)||!l(s))throw new Error("Invalid list modification update received. Source bean unknown.");var c=e.presentationModelType,f=r(this,s[n.value],i.value);a(this,c,u,n.value),this.arrayUpdateHandlers.forEach(function(e){e(c,u,n.value,o.value,0,f)})},u.prototype.delListEntry=function(e){var t=e.findAttributeByPropertyName("source"),n=e.findAttributeByPropertyName("attribute"),r=e.findAttributeByPropertyName("from"),o=e.findAttributeByPropertyName("to");if(!(l(t)&&l(n)&&l(r)&&l(o)))throw new Error("Invalid list modification update received");var i=this.beanFromDolphin.get(t.value);if(!l(i))throw new Error("Invalid list modification update received. Source bean unknown.");var s=e.presentationModelType;a(this,s,i,n.value),this.arrayUpdateHandlers.forEach(function(e){e(s,i,n.value,r.value,o.value-r.value)})},u.prototype.setListEntry=function(e){var t=e.findAttributeByPropertyName("source"),n=e.findAttributeByPropertyName("attribute"),o=e.findAttributeByPropertyName("pos"),i=e.findAttributeByPropertyName("element");if(!(l(t)&&l(n)&&l(o)&&l(i)))throw new Error("Invalid list modification update received");var s=this.classInfos.get(t.value),u=this.beanFromDolphin.get(t.value);if(!l(u)||!l(s))throw new Error("Invalid list modification update received. Source bean unknown.");var c=e.presentationModelType,f=r(this,s[n.value],i.value);a(this,c,u,n.value),this.arrayUpdateHandlers.forEach(function(e){e(c,u,n.value,o.value,1,f)})},u.prototype.mapParamToDolphin=function(e){if(!l(e))return{value:e,type:f};var t=typeof e;if("object"===t){var n=this.beanToDolphin.get(e);if(l(n))return{value:n,type:p};throw new TypeError("Only managed Dolphin Beans can be used")}if("string"===t||"number"===t||"boolean"===t)return{value:e,type:d};throw new TypeError("Only managed Dolphin Beans and primitive types can be used")},n.ClassRepository=u,n.UNKNOWN=f,n.BASIC_TYPE=d,n.DOLPHIN_BEAN=p},{"../bower_components/core.js/library/fn/map":2,"./polyfills.js":28,"./utils.js":29}],28:[function(e,t,n){Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,r;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=0;i>r;){var s;r in o&&(s=o[r],e.call(n,s,r,o)),r++}}),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],o=arguments.length>=2?arguments[1]:void 0,i=0;n>i;i++)if(i in t){var s=t[i];e.call(o,s,i,t)&&r.push(s)}return r})},{}],29:[function(e,t,n){"use strict";t.exports.exists=function(e){return"undefined"!=typeof e&&null!==e}},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(e,t,n){"use strict";function r(e){var t=new s(e);return{bind:function(e,n){var r=this[e];this[e]=n;var i=Polymer.CaseMap.camelToDashCase(e)+"-changed";this.unlisten(this,i,"_dolphinObserver"),this.listen(this,i,"_dolphinObserver"),o(r)&&t.unbind(this,e,r),t.bind(this,e,n)},_dolphinObserver:function(n){var r,s,a,u,c=n.detail.path,l=n.detail.value;if(o(l.indexSplices)){if(c=c.substr(0,c.length-".splices".length),r=i(this,c),null!==r){s=c.match(/[^\.]+$/);var f=l.indexSplices.length;for(a=0;f>a;a++){var d=l.indexSplices[a];e.notifyArrayChange(r,s[0],d.index,d.addedCount,d.removed);var p=r[s[0]];for(u=0;u<d.removed.length;u++)t.unbind(this,c+"."+(d.index+u),d.removed[u]);for(u=d.index+d.addedCount;u<p.length;u++){var h=u-d.addedCount+d.removed.length;t.unbind(this,c+"."+h,p[u])}for(u=d.index;u<p.length;u++)t.bind(this,c+"."+u,p[u])}}}else if(r=i(this,c),null!==r&&!Array.isArray(r)){if(Array.isArray(l))throw new Error("Replacing arrays is currently not supported. Please use splice instead to replace all elements.");s=c.match(/[^\.]+$/);var y=e.notifyBeanChange(r,s[0],l);null!==y&&t.unbind(this,c,y),null!==l&&t.bind(this,c,l)}}}}function o(e){return"undefined"!=typeof e&&null!==e}function i(e,t){var n=t.match(/^(.*)\.[^\.]*$/);return null===n?e:e.get(n[1],e)}var s=e("./deep-bind.js").Binder;n.createBaseBehavior=r},{"./deep-bind.js":31}],31:[function(e,t,n){"use strict";function r(e){this.listeners=new s,e.onBeanUpdate(i(this,this.onBeanUpdateHandler)),e.onArrayUpdate(i(this,this.onArrayUpdateHandler))}function o(e){return"undefined"!=typeof e&&null!==e}function i(e,t){return function(){t.apply(e,arguments)}}var s=e("../bower_components/core.js/library/fn/map");r.prototype.onBeanUpdateHandler=function(e,t,n,r){var i=this.listeners.get(e);if(o(i))for(var s=i.length,a=0;s>a;a++){var u=i[a],c=u.element,l=u.rootPath+"."+t;this.unbind(c,l,r),c.set(l,n),this.bind(c,l,n)}else e[t]=n},r.prototype.onArrayUpdateHandler=function(e,t,n,r,i){var s=e[t],a=this.listeners.get(e);if(o(a))for(var u=a.length,c=0;u>c;c++){for(var l=a[c],f=l.element,d=l.rootPath+"."+t,p=n;p<s.length;p++)this.unbind(f,d+"."+p,s[p]);for("undefined"==typeof i?f.splice(d,n,r):f.splice(d,n,r,i),p=n;p<s.length;p++)this.bind(f,d+"."+p,s[p])}else"undefined"==typeof i?s.splice(n,r):s.splice(n,r,i)},r.prototype.bind=function(e,t,n){if("object"==typeof n){var r=this.listeners.get(n);if(o(r)||(r=[],this.listeners.set(n,r)),r.push({element:e,rootPath:t}),Array.isArray(n))for(var i=0;i<n.length;i++)this.bind(e,t+"."+i,n[i]);else if("object"==typeof n)for(var s in n)this.bind(e,t+"."+s,n[s])}},r.prototype.unbind=function(e,t,n){if("object"==typeof n){var r=this.listeners.get(n);if(o(r))for(var i=r.length,s=0;i>s;s++){var a=r[s];if(a.element===e&&a.rootPath===t){if(r.splice(s,1),Array.isArray(n))for(var u=0;u<n.length;u++)this.unbind(e,t+"."+u,n[u]);else if("object"==typeof n)for(var c in n)this.unbind(e,t+"."+c,n[c]);return}}}},n.Binder=r},{"../bower_components/core.js/library/fn/map":1}],32:[function(e,t,n){"use strict";var r=e("../bower_components/dolphin-js/dist/dolphin.js").connect2,o=e("./base-behavior.js").createBaseBehavior;n.connect=function(e,t){var n=r(e,t);return n.BaseBehavior=o(n),n}},{"../bower_components/dolphin-js/dist/dolphin.js":29,"./base-behavior.js":30}]},{},[32])(32)});
//# sourceMappingURL=dolphin-polymer.min.js.map